<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Josh Allen">
  <meta name="dcterms.date" content="2022-08-29">
  <title>Research Data Services R Workshops at Georgia State University - Data Cleaning in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Data Cleaning in R</h1>
  <p class="subtitle">With data.table</p>
  <p class="author">Josh Allen</p>
  <p class="institute">Department of Political Science at Georgia State University</p>
  <p class="date">2022-08-29</p>
</section>

<section class="slide level2">

<div class="cell">

</div>
</section>
<section id="packages-you-will-need" class="slide level2">
<h2>Packages You Will Need</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"palmerpenguins"</span>,<span class="st">"data.table"</span>, <span class="at">install =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">data</span>(<span class="st">"penguins"</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">data</span>(<span class="st">"starwars"</span>, <span class="at">package =</span> <span class="st">"dplyr"</span> )</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="do">## Or </span></span>
<span id="cb1-10"><a href="#cb1-10"></a>starwars <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"data/starwars.csv"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a>penguins <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"data/penguins.csv"</span>)</span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="do">## Or </span></span>
<span id="cb1-15"><a href="#cb1-15"></a>starwars <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"data/starwars.csv"</span>)</span>
<span id="cb1-16"><a href="#cb1-16"></a>penguins <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"data/penguins.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data.table-pros" class="slide level2">
<h2>data.table pros</h2>
<ul>
<li><p>more concise(as we will see)</p></li>
<li><p>less dependencies</p></li>
<li><p>faster(as our data gets bigger)</p></li>
</ul>
</section>
<section id="a-comparison-of-tasks" class="slide level2">
<h2>A comparison of tasks</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="|3|10|4|12|5|11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="do">## tidyverse </span></span>
<span id="cb2-2"><a href="#cb2-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Chinstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">group_by</span>(island) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">summarise</span>(<span class="at">mean_weight =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="do">## data.table</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>penguins_dt <span class="ot">=</span> <span class="fu">as.data.table</span>(penguins)</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>penguins_dt[species <span class="sc">==</span> <span class="st">"Chinstrap"</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-12"><a href="#cb2-12"></a>  by <span class="ot">=</span> island]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code># A tibble: 1 × 2
  island mean_weight
  &lt;fct&gt;        &lt;dbl&gt;
1 Dream        3733.</code></pre>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>   island       V1
1:  Dream 3733.088</code></pre>
</div>
</div>
</div>
</section>
<section id="a-statement-from-josh" class="slide level2">
<h2>A Statement from Josh</h2>
<ul>
<li><p>I really wanted to learn data.table which is the motivation for this slide show</p></li>
<li><p>This is my attempt to do it</p></li>
<li><p>Both packages are awesome</p></li>
<li><p>I have zero stakes in either direction</p></li>
<li><p>Both suit different data cleaning tasks well</p></li>
<li><p>Their are compelling reasons to favor one over the other</p></li>
<li><p>If one is more intuitive to you that is great use the one you feel more comfortable with</p></li>
<li><p>Knowing both is awesome</p>
<ul>
<li>I don’t promote evangelism of one over the other</li>
</ul></li>
</ul>
</section>
<section id="what-is-the-difference" class="slide level2">
<h2>What is the difference?</h2>
<div>
<ul>
<li class="fragment"><p>Both work with an “enhanced” version of a data.frame</p>
<ul>
<li class="fragment">For dplyr this is called a tibble</li>
<li class="fragment">For data.table this is called a data.table</li>
</ul></li>
<li class="fragment"><p>The main difference(from what I understand) is that data.table tries to <strong>modify by reference</strong> as much as possible</p></li>
<li class="fragment"><p>What does that mean?</p></li>
<li class="fragment"><p>Think about about what the pipe.</p></li>
<li class="fragment"><p>new_object &lt;- object |&gt; dplyr_verb(thing we want to do) |&gt; dplyr_verb(next thing we want to do)</p></li>
<li class="fragment"><p>This relies on a Copy-on-modify approach</p></li>
</ul>
<ol type="1">
<li class="fragment"><strong>Copy-on-modify</strong>: Creates a copy of your data. Implies extra computational overhead(slower)</li>
<li class="fragment"><strong>Modify-in-place</strong>: Avoids creating copies and simply cahnges the data where it sits in memory(faster)</li>
</ol>
</div>
</section>
<section id="the-common-syntax-of-data.table" class="slide level2">
<h2>The Common Syntax of data.table</h2>
<div class="fragment">
<div class="columns">
<div class="column">
<p>DT[<span style="color: #591c19;">i</span>, <span style="color: #b64f32;">j</span>, <span style="color: #262d42;">by</span>]</p>
</div><div class="column">
<ul>
<li><p><span style="color: #591c19;">i</span> = The rows you want to work with</p></li>
<li><p><span style="color: #b64f32;">j</span> = The columns you want to work with</p></li>
<li><p><span style="color: #262d42;">by</span> = a grouping variable</p></li>
</ul>
</div>
</div>
</div>
<div class="fragment">
<h3 id="the-dplyr-equivalents">The Dplyr equivalents</h3>
<div>
<ul>
<li class="fragment"><p><span style="color: #591c19;">filter;slice;arrange</span></p></li>
<li class="fragment"><p><span style="color: #b64f32;">select, mutate, summarise</span></p></li>
<li class="fragment"><p><span style="color: #262d42;">group_by</span></p></li>
</ul>
</div>
</div>
</section>
<section>
<section id="subsetting-by-row-with-i" class="title-slide slide level1 center">
<h1>Subsetting By Row with <code>i</code></h1>

</section>
<section id="using-tests" class="slide level2">
<h2>Using tests</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>penguins_dt[species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Chinstrap"</span>,<span class="st">"Gentoo"</span>) <span class="sc">|</span> body_mass_g <span class="sc">&lt;=</span> <span class="dv">4050</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   species body_mass_g
1:  Adelie        3750
2:  Adelie        3800
3:  Adelie        3250
4:  Adelie        3450
5:  Adelie        3650</code></pre>
</div>
</div>
</section>
<section id="using-regular-expressions" class="slide level2">
<h2>Using regular expressions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>starwars_dt <span class="ot">=</span> <span class="fu">as.data.table</span>(starwars)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>starwars_dt[<span class="fu">grepl</span>(<span class="st">"Skywalker"</span>, name)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>               name
1:   Luke Skywalker
2: Anakin Skywalker
3:   Shmi Skywalker</code></pre>
</div>
</div>
</section>
<section id="finding-missing-data" class="slide level2">
<h2>Finding Missing Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>penguins_dt[<span class="fu">is.na</span>(sex)][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    species  sex
 1:  Adelie &lt;NA&gt;
 2:  Adelie &lt;NA&gt;
 3:  Adelie &lt;NA&gt;
 4:  Adelie &lt;NA&gt;
 5:  Adelie &lt;NA&gt;
 6:  Adelie &lt;NA&gt;
 7:  Gentoo &lt;NA&gt;
 8:  Gentoo &lt;NA&gt;
 9:  Gentoo &lt;NA&gt;
10:  Gentoo &lt;NA&gt;
11:  Gentoo &lt;NA&gt;</code></pre>
</div>
</div>
</section>
<section id="finiding-non-missing-data" class="slide level2">
<h2>Finiding Non-missing Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>penguins_dt[<span class="sc">!</span><span class="fu">is.na</span>(sex)][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>       species    sex
  1:    Adelie   male
  2:    Adelie female
  3:    Adelie female
  4:    Adelie female
  5:    Adelie   male
 ---                 
329: Chinstrap   male
330: Chinstrap female
331: Chinstrap   male
332: Chinstrap   male
333: Chinstrap female</code></pre>
</div>
</div>
</section></section>
<section>
<section id="doing-stuff-with-j" class="title-slide slide level1 center">
<h1>Doing Stuff with <code>j</code></h1>

</section>
<section id="the-basics" class="slide level2">
<h2>The basics</h2>
<ul>
<li>Like Dplyr we can use column postion or name</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>penguins_dt[, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   species    island bill_length_mm
1:  Adelie Torgersen           39.1
2:  Adelie Torgersen           39.5</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>penguins_dt[, <span class="fu">c</span>(<span class="st">"body_mass_g"</span>, <span class="st">"species"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   body_mass_g species
1:        3750  Adelie
2:        3800  Adelie</code></pre>
</div>
</div>
</div>
</section>
<section id="excluding-using--" class="slide level2">
<h2>Excluding Using <code>-</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>penguins_dt[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   bill_depth_mm flipper_length_mm body_mass_g    sex year
1:          18.7               181        3750   male 2007
2:          17.4               186        3800 female 2007
3:          18.0               195        3250 female 2007</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>penguins_dt[,<span class="sc">-</span><span class="fu">c</span>(<span class="st">"body_mass_g"</span>,<span class="st">"species"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      island bill_length_mm bill_depth_mm flipper_length_mm    sex year
1: Torgersen           39.1          18.7               181   male 2007
2: Torgersen           39.5          17.4               186 female 2007</code></pre>
</div>
</div>
</section>
<section id="in-data.table" class="slide level2">
<h2><code>.</code> in data.table</h2>
<ul>
<li><p>The <code>.</code> serves as a shorthand for <code>c</code> and list</p></li>
<li><p>So we can put <code>.</code> in the <code>j</code> postition letting us use less characters</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>penguins_dt[, .(body_mass_g, island)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   body_mass_g    island
1:        3750 Torgersen
2:        3800 Torgersen</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>penguins_dt[, .(body_mass_g, island)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="regular-expressions" class="slide level2">
<h2>Regular Expressions</h2>
<p>We can still use regular expressions - They just look a little different</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>starwars_dt[, .SD , .SDcols <span class="ot">=</span> <span class="fu">patterns</span>(<span class="st">"color"</span>)][] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   hair_color  skin_color eye_color
1:      blond        fair      blue
2:       &lt;NA&gt;        gold    yellow
3:       &lt;NA&gt; white, blue       red
4:       none       white    yellow
5:      brown       light     brown</code></pre>
</div>
</div>
</div>
</section>
<section id="regular-expressionscont" class="slide level2">
<h2>Regular Expressions(cont)</h2>
<ul>
<li><p>What is going on with <code>.SD</code> is that data.table needs a place holder</p></li>
<li><p>.SD stands for <code>S</code>ubset of <code>D</code>ata.table</p></li>
</ul>
<p>If we tried to do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>starwars_dt[, .SDcols <span class="ot">=</span> <span class="fu">patterns</span>(<span class="st">"color"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It would return</p>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[.data.table`(starwars_dt, , .SDcols = patterns("color")): i and j
are both missing so ignoring the other arguments. This warning will be upgraded
to error in future.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                     name height   mass    hair_color          skin_color
 1:        Luke Skywalker    172   77.0         blond                fair
 2:                 C-3PO    167   75.0          &lt;NA&gt;                gold
 3:                 R2-D2     96   32.0          &lt;NA&gt;         white, blue
 4:           Darth Vader    202  136.0          none               white
 5:           Leia Organa    150   49.0         brown               light
 6:             Owen Lars    178  120.0   brown, grey               light
 7:    Beru Whitesun lars    165   75.0         brown               light
 8:                 R5-D4     97   32.0          &lt;NA&gt;          white, red
 9:     Biggs Darklighter    183   84.0         black               light
10:        Obi-Wan Kenobi    182   77.0 auburn, white                fair
11:      Anakin Skywalker    188   84.0         blond                fair
12:        Wilhuff Tarkin    180     NA  auburn, grey                fair
13:             Chewbacca    228  112.0         brown             unknown
14:              Han Solo    180   80.0         brown                fair
15:                Greedo    173   74.0          &lt;NA&gt;               green
16: Jabba Desilijic Tiure    175 1358.0          &lt;NA&gt;    green-tan, brown
17:        Wedge Antilles    170   77.0         brown                fair
18:      Jek Tono Porkins    180  110.0         brown                fair
19:                  Yoda     66   17.0         white               green
20:             Palpatine    170   75.0          grey                pale
21:             Boba Fett    183   78.2         black                fair
22:                 IG-88    200  140.0          none               metal
23:                 Bossk    190  113.0          none               green
24:      Lando Calrissian    177   79.0         black                dark
25:                 Lobot    175   79.0          none               light
26:                Ackbar    180   83.0          none        brown mottle
27:            Mon Mothma    150     NA        auburn                fair
28:          Arvel Crynyd     NA     NA         brown                fair
29: Wicket Systri Warrick     88   20.0         brown               brown
30:             Nien Nunb    160   68.0          none                grey
31:          Qui-Gon Jinn    193   89.0         brown                fair
32:           Nute Gunray    191   90.0          none       mottled green
33:         Finis Valorum    170     NA         blond                fair
34:         Jar Jar Binks    196   66.0          none              orange
35:          Roos Tarpals    224   82.0          none                grey
36:            Rugor Nass    206     NA          none               green
37:              Ric Olié    183     NA         brown                fair
38:                 Watto    137     NA         black          blue, grey
39:               Sebulba    112   40.0          none           grey, red
40:         Quarsh Panaka    183     NA         black                dark
41:        Shmi Skywalker    163     NA         black                fair
42:            Darth Maul    175   80.0          none                 red
43:           Bib Fortuna    180     NA          none                pale
44:           Ayla Secura    178   55.0          none                blue
45:              Dud Bolt     94   45.0          none          blue, grey
46:               Gasgano    122     NA          none         white, blue
47:        Ben Quadinaros    163   65.0          none grey, green, yellow
48:            Mace Windu    188   84.0          none                dark
49:          Ki-Adi-Mundi    198   82.0         white                pale
50:             Kit Fisto    196   87.0          none               green
51:             Eeth Koth    171     NA         black               brown
52:            Adi Gallia    184   50.0          none                dark
53:           Saesee Tiin    188     NA          none                pale
54:           Yarael Poof    264     NA          none               white
55:              Plo Koon    188   80.0          none              orange
56:            Mas Amedda    196     NA          none                blue
57:          Gregar Typho    185   85.0         black                dark
58:                 Cordé    157     NA         brown               light
59:           Cliegg Lars    183     NA         brown                fair
60:     Poggle the Lesser    183   80.0          none               green
61:       Luminara Unduli    170   56.2         black              yellow
62:         Barriss Offee    166   50.0         black              yellow
63:                 Dormé    165     NA         brown               light
64:                 Dooku    193   80.0         white                fair
65:   Bail Prestor Organa    191     NA         black                 tan
66:            Jango Fett    183   79.0         black                 tan
67:            Zam Wesell    168   55.0        blonde fair, green, yellow
68:       Dexter Jettster    198  102.0          none               brown
69:               Lama Su    229   88.0          none                grey
70:               Taun We    213     NA          none                grey
71:            Jocasta Nu    167     NA         white                fair
72:         Ratts Tyerell     79   15.0          none          grey, blue
73:                R4-P17     96     NA          none         silver, red
74:            Wat Tambor    193   48.0          none         green, grey
75:              San Hill    191     NA          none                grey
76:              Shaak Ti    178   57.0          none    red, blue, white
77:              Grievous    216  159.0          none        brown, white
78:               Tarfful    234  136.0         brown               brown
79:       Raymus Antilles    188   79.0         brown               light
80:             Sly Moore    178   48.0          none                pale
81:            Tion Medon    206   80.0          none                grey
82:                  Finn     NA     NA         black                dark
83:                   Rey     NA     NA         brown               light
84:           Poe Dameron     NA     NA         brown               light
85:                   BB8     NA     NA          none                none
86:        Captain Phasma     NA     NA       unknown             unknown
87:         Padmé Amidala    165   45.0         brown               light
                     name height   mass    hair_color          skin_color
        eye_color birth_year            sex    gender      homeworld
 1:          blue       19.0           male masculine       Tatooine
 2:        yellow      112.0           none masculine       Tatooine
 3:           red       33.0           none masculine          Naboo
 4:        yellow       41.9           male masculine       Tatooine
 5:         brown       19.0         female  feminine       Alderaan
 6:          blue       52.0           male masculine       Tatooine
 7:          blue       47.0         female  feminine       Tatooine
 8:           red         NA           none masculine       Tatooine
 9:         brown       24.0           male masculine       Tatooine
10:     blue-gray       57.0           male masculine        Stewjon
11:          blue       41.9           male masculine       Tatooine
12:          blue       64.0           male masculine         Eriadu
13:          blue      200.0           male masculine       Kashyyyk
14:         brown       29.0           male masculine       Corellia
15:         black       44.0           male masculine          Rodia
16:        orange      600.0 hermaphroditic masculine      Nal Hutta
17:         hazel       21.0           male masculine       Corellia
18:          blue         NA           male masculine     Bestine IV
19:         brown      896.0           male masculine           &lt;NA&gt;
20:        yellow       82.0           male masculine          Naboo
21:         brown       31.5           male masculine         Kamino
22:           red       15.0           none masculine           &lt;NA&gt;
23:           red       53.0           male masculine      Trandosha
24:         brown       31.0           male masculine        Socorro
25:          blue       37.0           male masculine         Bespin
26:        orange       41.0           male masculine       Mon Cala
27:          blue       48.0         female  feminine      Chandrila
28:         brown         NA           male masculine           &lt;NA&gt;
29:         brown        8.0           male masculine          Endor
30:         black         NA           male masculine        Sullust
31:          blue       92.0           male masculine           &lt;NA&gt;
32:           red         NA           male masculine Cato Neimoidia
33:          blue       91.0           male masculine      Coruscant
34:        orange       52.0           male masculine          Naboo
35:        orange         NA           male masculine          Naboo
36:        orange         NA           male masculine          Naboo
37:          blue         NA           &lt;NA&gt;      &lt;NA&gt;          Naboo
38:        yellow         NA           male masculine       Toydaria
39:        orange         NA           male masculine      Malastare
40:         brown       62.0           &lt;NA&gt;      &lt;NA&gt;          Naboo
41:         brown       72.0         female  feminine       Tatooine
42:        yellow       54.0           male masculine       Dathomir
43:          pink         NA           male masculine         Ryloth
44:         hazel       48.0         female  feminine         Ryloth
45:        yellow         NA           male masculine        Vulpter
46:         black         NA           male masculine        Troiken
47:        orange         NA           male masculine           Tund
48:         brown       72.0           male masculine     Haruun Kal
49:        yellow       92.0           male masculine          Cerea
50:         black         NA           male masculine    Glee Anselm
51:         brown         NA           male masculine       Iridonia
52:          blue         NA         female  feminine      Coruscant
53:        orange         NA           male masculine        Iktotch
54:        yellow         NA           male masculine        Quermia
55:         black       22.0           male masculine          Dorin
56:          blue         NA           male masculine       Champala
57:         brown         NA           male masculine          Naboo
58:         brown         NA         female  feminine          Naboo
59:          blue       82.0           male masculine       Tatooine
60:        yellow         NA           male masculine       Geonosis
61:          blue       58.0         female  feminine         Mirial
62:          blue       40.0         female  feminine         Mirial
63:         brown         NA         female  feminine          Naboo
64:         brown      102.0           male masculine        Serenno
65:         brown       67.0           male masculine       Alderaan
66:         brown       66.0           male masculine   Concord Dawn
67:        yellow         NA         female  feminine          Zolan
68:        yellow         NA           male masculine           Ojom
69:         black         NA           male masculine         Kamino
70:         black         NA         female  feminine         Kamino
71:          blue         NA         female  feminine      Coruscant
72:       unknown         NA           male masculine    Aleen Minor
73:     red, blue         NA           none  feminine           &lt;NA&gt;
74:       unknown         NA           male masculine          Skako
75:          gold         NA           male masculine     Muunilinst
76:         black         NA         female  feminine          Shili
77: green, yellow         NA           male masculine          Kalee
78:          blue         NA           male masculine       Kashyyyk
79:         brown         NA           male masculine       Alderaan
80:         white         NA           &lt;NA&gt;      &lt;NA&gt;         Umbara
81:         black         NA           male masculine         Utapau
82:          dark         NA           male masculine           &lt;NA&gt;
83:         hazel         NA         female  feminine           &lt;NA&gt;
84:         brown         NA           male masculine           &lt;NA&gt;
85:         black         NA           none masculine           &lt;NA&gt;
86:       unknown         NA           &lt;NA&gt;      &lt;NA&gt;           &lt;NA&gt;
87:         brown       46.0         female  feminine          Naboo
        eye_color birth_year            sex    gender      homeworld
           species
 1:          Human
 2:          Droid
 3:          Droid
 4:          Human
 5:          Human
 6:          Human
 7:          Human
 8:          Droid
 9:          Human
10:          Human
11:          Human
12:          Human
13:        Wookiee
14:          Human
15:         Rodian
16:           Hutt
17:          Human
18:          Human
19: Yoda's species
20:          Human
21:          Human
22:          Droid
23:     Trandoshan
24:          Human
25:          Human
26:   Mon Calamari
27:          Human
28:          Human
29:           Ewok
30:      Sullustan
31:          Human
32:      Neimodian
33:          Human
34:         Gungan
35:         Gungan
36:         Gungan
37:           &lt;NA&gt;
38:      Toydarian
39:            Dug
40:           &lt;NA&gt;
41:          Human
42:         Zabrak
43:        Twi'lek
44:        Twi'lek
45:     Vulptereen
46:          Xexto
47:          Toong
48:          Human
49:         Cerean
50:       Nautolan
51:         Zabrak
52:     Tholothian
53:       Iktotchi
54:       Quermian
55:        Kel Dor
56:       Chagrian
57:          Human
58:          Human
59:          Human
60:      Geonosian
61:       Mirialan
62:       Mirialan
63:          Human
64:          Human
65:          Human
66:          Human
67:       Clawdite
68:       Besalisk
69:       Kaminoan
70:       Kaminoan
71:          Human
72:         Aleena
73:          Droid
74:        Skakoan
75:           Muun
76:        Togruta
77:        Kaleesh
78:        Wookiee
79:          Human
80:           &lt;NA&gt;
81:         Pau'an
82:          Human
83:          Human
84:          Human
85:          Droid
86:           &lt;NA&gt;
87:          Human
           species
                                                                                                                    films
 1:                           The Empire Strikes Back,Revenge of the Sith,Return of the Jedi,A New Hope,The Force Awakens
 2:     The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi,A New Hope
 3: The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi,A New Hope,...
 4:                                             The Empire Strikes Back,Revenge of the Sith,Return of the Jedi,A New Hope
 5:                           The Empire Strikes Back,Revenge of the Sith,Return of the Jedi,A New Hope,The Force Awakens
 6:                                                                   Attack of the Clones,Revenge of the Sith,A New Hope
 7:                                                                   Attack of the Clones,Revenge of the Sith,A New Hope
 8:                                                                                                            A New Hope
 9:                                                                                                            A New Hope
10:     The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi,A New Hope
11:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
12:                                                                                        Revenge of the Sith,A New Hope
13:                           The Empire Strikes Back,Revenge of the Sith,Return of the Jedi,A New Hope,The Force Awakens
14:                                               The Empire Strikes Back,Return of the Jedi,A New Hope,The Force Awakens
15:                                                                                                            A New Hope
16:                                                                      The Phantom Menace,Return of the Jedi,A New Hope
17:                                                                 The Empire Strikes Back,Return of the Jedi,A New Hope
18:                                                                                                            A New Hope
19:                The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi
20:                The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi
21:                                                       The Empire Strikes Back,Attack of the Clones,Return of the Jedi
22:                                                                                               The Empire Strikes Back
23:                                                                                               The Empire Strikes Back
24:                                                                            The Empire Strikes Back,Return of the Jedi
25:                                                                                               The Empire Strikes Back
26:                                                                                  Return of the Jedi,The Force Awakens
27:                                                                                                    Return of the Jedi
28:                                                                                                    Return of the Jedi
29:                                                                                                    Return of the Jedi
30:                                                                                                    Return of the Jedi
31:                                                                                                    The Phantom Menace
32:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
33:                                                                                                    The Phantom Menace
34:                                                                               Attack of the Clones,The Phantom Menace
35:                                                                                                    The Phantom Menace
36:                                                                                                    The Phantom Menace
37:                                                                                                    The Phantom Menace
38:                                                                               Attack of the Clones,The Phantom Menace
39:                                                                                                    The Phantom Menace
40:                                                                                                    The Phantom Menace
41:                                                                               Attack of the Clones,The Phantom Menace
42:                                                                                                    The Phantom Menace
43:                                                                                                    Return of the Jedi
44:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
45:                                                                                                    The Phantom Menace
46:                                                                                                    The Phantom Menace
47:                                                                                                    The Phantom Menace
48:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
49:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
50:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
51:                                                                                The Phantom Menace,Revenge of the Sith
52:                                                                                The Phantom Menace,Revenge of the Sith
53:                                                                                The Phantom Menace,Revenge of the Sith
54:                                                                                                    The Phantom Menace
55:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
56:                                                                               Attack of the Clones,The Phantom Menace
57:                                                                                                  Attack of the Clones
58:                                                                                                  Attack of the Clones
59:                                                                                                  Attack of the Clones
60:                                                                              Attack of the Clones,Revenge of the Sith
61:                                                                              Attack of the Clones,Revenge of the Sith
62:                                                                                                  Attack of the Clones
63:                                                                                                  Attack of the Clones
64:                                                                              Attack of the Clones,Revenge of the Sith
65:                                                                              Attack of the Clones,Revenge of the Sith
66:                                                                                                  Attack of the Clones
67:                                                                                                  Attack of the Clones
68:                                                                                                  Attack of the Clones
69:                                                                                                  Attack of the Clones
70:                                                                                                  Attack of the Clones
71:                                                                                                  Attack of the Clones
72:                                                                                                    The Phantom Menace
73:                                                                              Attack of the Clones,Revenge of the Sith
74:                                                                                                  Attack of the Clones
75:                                                                                                  Attack of the Clones
76:                                                                              Attack of the Clones,Revenge of the Sith
77:                                                                                                   Revenge of the Sith
78:                                                                                                   Revenge of the Sith
79:                                                                                        Revenge of the Sith,A New Hope
80:                                                                              Attack of the Clones,Revenge of the Sith
81:                                                                                                   Revenge of the Sith
82:                                                                                                     The Force Awakens
83:                                                                                                     The Force Awakens
84:                                                                                                     The Force Awakens
85:                                                                                                     The Force Awakens
86:                                                                                                     The Force Awakens
87:                                                           Attack of the Clones,The Phantom Menace,Revenge of the Sith
                                                                                                                    films
                               vehicles
 1:   Snowspeeder,Imperial Speeder Bike
 2:                                    
 3:                                    
 4:                                    
 5:               Imperial Speeder Bike
 6:                                    
 7:                                    
 8:                                    
 9:                                    
10:                     Tribubble bongo
11: Zephyr-G swoop bike,XJ-6 airspeeder
12:                                    
13:                               AT-ST
14:                                    
15:                                    
16:                                    
17:                         Snowspeeder
18:                                    
19:                                    
20:                                    
21:                                    
22:                                    
23:                                    
24:                                    
25:                                    
26:                                    
27:                                    
28:                                    
29:                                    
30:                                    
31:                     Tribubble bongo
32:                                    
33:                                    
34:                                    
35:                                    
36:                                    
37:                                    
38:                                    
39:                                    
40:                                    
41:                                    
42:                        Sith speeder
43:                                    
44:                                    
45:                                    
46:                                    
47:                                    
48:                                    
49:                                    
50:                                    
51:                                    
52:                                    
53:                                    
54:                                    
55:                                    
56:                                    
57:                                    
58:                                    
59:                                    
60:                                    
61:                                    
62:                                    
63:                                    
64:                    Flitknot speeder
65:                                    
66:                                    
67:          Koro-2 Exodrive airspeeder
68:                                    
69:                                    
70:                                    
71:                                    
72:                                    
73:                                    
74:                                    
75:                                    
76:                                    
77:         Tsmeu-6 personal wheel bike
78:                                    
79:                                    
80:                                    
81:                                    
82:                                    
83:                                    
84:                                    
85:                                    
86:                                    
87:                                    
                               vehicles
                                                                                               starships
 1:                                                                              X-wing,Imperial shuttle
 2:                                                                                                     
 3:                                                                                                     
 4:                                                                                      TIE Advanced x1
 5:                                                                                                     
 6:                                                                                                     
 7:                                                                                                     
 8:                                                                                                     
 9:                                                                                               X-wing
10: Jedi starfighter,Trade Federation cruiser,Naboo star skiff,Jedi Interceptor,Belbullab-22 starfighter
11:                                              Trade Federation cruiser,Jedi Interceptor,Naboo fighter
12:                                                                                                     
13:                                                                   Millennium Falcon,Imperial shuttle
14:                                                                   Millennium Falcon,Imperial shuttle
15:                                                                                                     
16:                                                                                                     
17:                                                                                               X-wing
18:                                                                                               X-wing
19:                                                                                                     
20:                                                                                                     
21:                                                                                              Slave 1
22:                                                                                                     
23:                                                                                                     
24:                                                                                    Millennium Falcon
25:                                                                                                     
26:                                                                                                     
27:                                                                                                     
28:                                                                                               A-wing
29:                                                                                                     
30:                                                                                    Millennium Falcon
31:                                                                                                     
32:                                                                                                     
33:                                                                                                     
34:                                                                                                     
35:                                                                                                     
36:                                                                                                     
37:                                                                                 Naboo Royal Starship
38:                                                                                                     
39:                                                                                                     
40:                                                                                                     
41:                                                                                                     
42:                                                                                             Scimitar
43:                                                                                                     
44:                                                                                                     
45:                                                                                                     
46:                                                                                                     
47:                                                                                                     
48:                                                                                                     
49:                                                                                                     
50:                                                                                                     
51:                                                                                                     
52:                                                                                                     
53:                                                                                                     
54:                                                                                                     
55:                                                                                     Jedi starfighter
56:                                                                                                     
57:                                                                                        Naboo fighter
58:                                                                                                     
59:                                                                                                     
60:                                                                                                     
61:                                                                                                     
62:                                                                                                     
63:                                                                                                     
64:                                                                                                     
65:                                                                                                     
66:                                                                                                     
67:                                                                                                     
68:                                                                                                     
69:                                                                                                     
70:                                                                                                     
71:                                                                                                     
72:                                                                                                     
73:                                                                                                     
74:                                                                                                     
75:                                                                                                     
76:                                                                                                     
77:                                                                             Belbullab-22 starfighter
78:                                                                                                     
79:                                                                                                     
80:                                                                                                     
81:                                                                                                     
82:                                                                                                     
83:                                                                                                     
84:                                                                                  T-70 X-wing fighter
85:                                                                                                     
86:                                                                                                     
87:                                                   H-type Nubian yacht,Naboo star skiff,Naboo fighter
                                                                                               starships</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-new-variables" class="slide level2">
<h2>Creating New Variables</h2>
<p>One Cool thing about data.table is that you do not need to reassign the object once you modify it</p>
<p>This creates a new variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>penguins_dt[, body_mass_g_sq <span class="sc">:</span><span class="er">=</span> body_mass_g<span class="sc">^</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will just square body_mass_g in place</p>
<div class="cell">

</div>
<p>You will not see these changes unless you ask to show you</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>starwars_dt[,mass <span class="sc">:</span><span class="er">=</span> mass<span class="sc">^</span><span class="dv">2</span>][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             name height mass hair_color  skin_color eye_color birth_year  sex
1: Luke Skywalker    172 5929      blond        fair      blue         19 male
2:          C-3PO    167 5625       &lt;NA&gt;        gold    yellow        112 none
3:          R2-D2     96 1024       &lt;NA&gt; white, blue       red         33 none
      gender homeworld species
1: masculine  Tatooine   Human
2: masculine  Tatooine   Droid
3: masculine     Naboo   Droid
                                                                                                                   films
1:                           The Empire Strikes Back,Revenge of the Sith,Return of the Jedi,A New Hope,The Force Awakens
2:     The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi,A New Hope
3: The Empire Strikes Back,Attack of the Clones,The Phantom Menace,Revenge of the Sith,Return of the Jedi,A New Hope,...
                            vehicles               starships
1: Snowspeeder,Imperial Speeder Bike X-wing,Imperial shuttle
2:                                                          
3:                                                          </code></pre>
</div>
</div>
</section>
<section id="multiple-operations" class="slide level2">
<h2>Multiple Operations</h2>
<ul>
<li>As we saw with dplyr we can do this</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">mutate</span>(<span class="at">square_mass =</span> body_mass_g<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb32-3"><a href="#cb32-3"></a>       <span class="at">big_penguin =</span> <span class="fu">ifelse</span>(square_mass <span class="sc">&gt;=</span> <span class="fu">median</span>(square_mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) , <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>       <span class="fu">select</span>(species, square_mass, big_penguin) <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>       <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  species square_mass big_penguin
  &lt;fct&gt;         &lt;dbl&gt; &lt;lgl&gt;      
1 Adelie     14062500 FALSE      
2 Adelie     14440000 FALSE      
3 Adelie     10562500 FALSE      
4 Adelie           NA NA         
5 Adelie     11902500 FALSE      </code></pre>
</div>
</div>
<ul>
<li>It would be nice if we can do this with data.table!</li>
</ul>
</section>
<section id="multiple-operations-1" class="slide level2">
<h2>Multiple operations</h2>
<ul>
<li><p>Good news. We can! <span class="fragment">But there are some caveats</span></p></li>
<li><p>We can do this by chaining [] together</p></li>
<li><p>Or using the magrittr pipe</p></li>
<li><p>We cannot do this by doing lots of stuff in our J column</p></li>
</ul>
</section>
<section id="multiple-operations-with" class="slide level2">
<h2>Multiple Operations with <code>[]</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>penguins_dt[, square_mass <span class="sc">:</span><span class="er">=</span> body_mass_g<span class="sc">^</span><span class="dv">2</span>][, big_peng <span class="sc">:</span><span class="er">=</span> <span class="fu">ifelse</span>(square_mass <span class="sc">&gt;=</span> <span class="fu">median</span>(square_mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) , <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
1:  Adelie Torgersen           39.1          18.7               181        3750
2:  Adelie Torgersen           39.5          17.4               186        3800
3:  Adelie Torgersen           40.3          18.0               195        3250
4:  Adelie Torgersen             NA            NA                NA          NA
5:  Adelie Torgersen           36.7          19.3               193        3450
      sex year body_mass_g_sq square_mass big_peng
1:   male 2007       14062500    14062500    FALSE
2: female 2007       14440000    14440000    FALSE
3: female 2007       10562500    10562500    FALSE
4:   &lt;NA&gt; 2007             NA          NA       NA
5: female 2007       11902500    11902500    FALSE</code></pre>
</div>
</div>
</section>
<section id="multiple-operations-with-the-pipe" class="slide level2">
<h2>Multiple Operations with the pipe</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>penguins_dt[, square_mass <span class="sc">:</span><span class="er">=</span> body_mass_g<span class="sc">^</span><span class="dv">2</span>] <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>.[, big_peng <span class="sc">:</span><span class="er">=</span> <span class="fu">ifelse</span>(square_mass <span class="sc">&gt;=</span> <span class="fu">median</span>(square_mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) , <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
1:  Adelie Torgersen           39.1          18.7               181        3750
2:  Adelie Torgersen           39.5          17.4               186        3800
3:  Adelie Torgersen           40.3          18.0               195        3250
4:  Adelie Torgersen             NA            NA                NA          NA
5:  Adelie Torgersen           36.7          19.3               193        3450
6:  Adelie Torgersen           39.3          20.6               190        3650
      sex year body_mass_g_sq square_mass big_peng
1:   male 2007       14062500    14062500    FALSE
2: female 2007       14440000    14440000    FALSE
3: female 2007       10562500    10562500    FALSE
4:   &lt;NA&gt; 2007             NA          NA       NA
5: female 2007       11902500    11902500    FALSE
6:   male 2007       13322500    13322500    FALSE</code></pre>
</div>
</div>
</section></section>
<section>
<section id="by-slot" class="title-slide slide level1 center">
<h1>By slot</h1>

</section>
<section id="our-last-slot-is-by" class="slide level2">
<h2>Our last slot is <code>by</code></h2>
<ul>
<li>This works broadly the same as our group_by argument</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>penguins_dt[, <span class="fu">mean</span>(bill_length_mm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), by <span class="ot">=</span> species]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> species </th>
   <th style="text-align:right;"> V1 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Adelie </td>
   <td style="text-align:right;"> 38.79139 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Gentoo </td>
   <td style="text-align:right;"> 47.50488 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chinstrap </td>
   <td style="text-align:right;"> 48.83382 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="summarising-across-multiple-columns" class="slide level2">
<h2>Summarising across multiple columns</h2>
<ul>
<li>In dplyr this is a bit more intuitive</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric),</span>
<span id="cb39-4"><a href="#cb39-4"></a> <span class="fu">c</span>(<span class="at">Mean =</span> mean, <span class="at">Min =</span> min, <span class="at">Max =</span> max ),</span>
<span id="cb39-5"><a href="#cb39-5"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb39-6"><a href="#cb39-6"></a> <span class="at">.names =</span> <span class="st">"{.col}_{.fn}"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> species </th>
   <th style="text-align:right;"> bill_length_mm_Mean </th>
   <th style="text-align:right;"> bill_length_mm_Min </th>
   <th style="text-align:right;"> bill_length_mm_Max </th>
   <th style="text-align:right;"> bill_depth_mm_Mean </th>
   <th style="text-align:right;"> bill_depth_mm_Min </th>
   <th style="text-align:right;"> bill_depth_mm_Max </th>
   <th style="text-align:right;"> flipper_length_mm_Mean </th>
   <th style="text-align:right;"> flipper_length_mm_Min </th>
   <th style="text-align:right;"> flipper_length_mm_Max </th>
   <th style="text-align:right;"> body_mass_g_Mean </th>
   <th style="text-align:right;"> body_mass_g_Min </th>
   <th style="text-align:right;"> body_mass_g_Max </th>
   <th style="text-align:right;"> year_Mean </th>
   <th style="text-align:right;"> year_Min </th>
   <th style="text-align:right;"> year_Max </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Adelie </td>
   <td style="text-align:right;"> 38.79139 </td>
   <td style="text-align:right;"> 32.1 </td>
   <td style="text-align:right;"> 46.0 </td>
   <td style="text-align:right;"> 18.34636 </td>
   <td style="text-align:right;"> 15.5 </td>
   <td style="text-align:right;"> 21.5 </td>
   <td style="text-align:right;"> 189.9536 </td>
   <td style="text-align:right;"> 172 </td>
   <td style="text-align:right;"> 210 </td>
   <td style="text-align:right;"> 3700.662 </td>
   <td style="text-align:right;"> 2850 </td>
   <td style="text-align:right;"> 4775 </td>
   <td style="text-align:right;"> 2008.013 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 2009 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chinstrap </td>
   <td style="text-align:right;"> 48.83382 </td>
   <td style="text-align:right;"> 40.9 </td>
   <td style="text-align:right;"> 58.0 </td>
   <td style="text-align:right;"> 18.42059 </td>
   <td style="text-align:right;"> 16.4 </td>
   <td style="text-align:right;"> 20.8 </td>
   <td style="text-align:right;"> 195.8235 </td>
   <td style="text-align:right;"> 178 </td>
   <td style="text-align:right;"> 212 </td>
   <td style="text-align:right;"> 3733.088 </td>
   <td style="text-align:right;"> 2700 </td>
   <td style="text-align:right;"> 4800 </td>
   <td style="text-align:right;"> 2007.971 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 2009 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Gentoo </td>
   <td style="text-align:right;"> 47.50488 </td>
   <td style="text-align:right;"> 40.9 </td>
   <td style="text-align:right;"> 59.6 </td>
   <td style="text-align:right;"> 14.98211 </td>
   <td style="text-align:right;"> 13.1 </td>
   <td style="text-align:right;"> 17.3 </td>
   <td style="text-align:right;"> 217.1870 </td>
   <td style="text-align:right;"> 203 </td>
   <td style="text-align:right;"> 231 </td>
   <td style="text-align:right;"> 5076.016 </td>
   <td style="text-align:right;"> 3950 </td>
   <td style="text-align:right;"> 6300 </td>
   <td style="text-align:right;"> 2008.081 </td>
   <td style="text-align:right;"> 2007 </td>
   <td style="text-align:right;"> 2009 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="summarising-multiple-columns" class="slide level2">
<h2>Summarising Multiple Columns</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>penguins_dt <span class="ot">=</span> <span class="fu">as.data.table</span>(penguins)</span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a>summary_fun <span class="ot">=</span> <span class="cf">function</span>(x) <span class="fu">list</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-4"><a href="#cb40-4"></a>             <span class="at">Min =</span> <span class="fu">min</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-5"><a href="#cb40-5"></a>              <span class="at">Max =</span> <span class="fu">max</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb40-6"><a href="#cb40-6"></a></span>
<span id="cb40-7"><a href="#cb40-7"></a>penguins_dt[, <span class="fu">lapply</span>(.SD, summary_fun), .SDcols <span class="ot">=</span> is.numeric, by <span class="ot">=</span> species]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> species </th>
   <th style="text-align:left;"> bill_length_mm </th>
   <th style="text-align:left;"> bill_depth_mm </th>
   <th style="text-align:left;"> flipper_length_mm </th>
   <th style="text-align:left;"> body_mass_g </th>
   <th style="text-align:left;"> year </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Adelie </td>
   <td style="text-align:left;"> 38.79139 </td>
   <td style="text-align:left;"> 18.34636 </td>
   <td style="text-align:left;"> 189.9536 </td>
   <td style="text-align:left;"> 3700.662 </td>
   <td style="text-align:left;"> 2008.013 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Adelie </td>
   <td style="text-align:left;"> 32.1 </td>
   <td style="text-align:left;"> 15.5 </td>
   <td style="text-align:left;"> 172 </td>
   <td style="text-align:left;"> 2850 </td>
   <td style="text-align:left;"> 2007 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Adelie </td>
   <td style="text-align:left;"> 46 </td>
   <td style="text-align:left;"> 21.5 </td>
   <td style="text-align:left;"> 210 </td>
   <td style="text-align:left;"> 4775 </td>
   <td style="text-align:left;"> 2009 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Gentoo </td>
   <td style="text-align:left;"> 47.50488 </td>
   <td style="text-align:left;"> 14.98211 </td>
   <td style="text-align:left;"> 217.187 </td>
   <td style="text-align:left;"> 5076.016 </td>
   <td style="text-align:left;"> 2008.081 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Gentoo </td>
   <td style="text-align:left;"> 40.9 </td>
   <td style="text-align:left;"> 13.1 </td>
   <td style="text-align:left;"> 203 </td>
   <td style="text-align:left;"> 3950 </td>
   <td style="text-align:left;"> 2007 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Gentoo </td>
   <td style="text-align:left;"> 59.6 </td>
   <td style="text-align:left;"> 17.3 </td>
   <td style="text-align:left;"> 231 </td>
   <td style="text-align:left;"> 6300 </td>
   <td style="text-align:left;"> 2009 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chinstrap </td>
   <td style="text-align:left;"> 48.83382 </td>
   <td style="text-align:left;"> 18.42059 </td>
   <td style="text-align:left;"> 195.8235 </td>
   <td style="text-align:left;"> 3733.088 </td>
   <td style="text-align:left;"> 2007.971 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chinstrap </td>
   <td style="text-align:left;"> 40.9 </td>
   <td style="text-align:left;"> 16.4 </td>
   <td style="text-align:left;"> 178 </td>
   <td style="text-align:left;"> 2700 </td>
   <td style="text-align:left;"> 2007 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chinstrap </td>
   <td style="text-align:left;"> 58 </td>
   <td style="text-align:left;"> 20.8 </td>
   <td style="text-align:left;"> 212 </td>
   <td style="text-align:left;"> 4800 </td>
   <td style="text-align:left;"> 2009 </td>
  </tr>
</tbody>
</table>

</div>
</div>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>